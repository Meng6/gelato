$schema: "http://json-schema.org/draft-07/schema#"
description: GELATO configuration schema
required:
  - GRAPHS
  - BENCHMARK
  - MGDB

properties:

  GRAPHS:
    type: array
    uniqueItems: True
    items:
      type: string
      enum: [MGDB]
  
  BENCHMARK:
    type: object
    required: [REPEAT_TIMES, REPORT]
    properties:
      REPEAT_TIMES:
        type: integer
        minimum: 1
      REPORT:
        type: boolean

  MGDB:
    type: object
    required: [DATA_SOURCE, LANGUAGES_AND_TOOLS, QUERIES]
    properties:
      DATA_SOURCE:
        type: object
        required: [FOLDER_PATH, CYPHER, SPARQL]
        properties:
          FOLDER_PATH:
            type: string
            pattern: "data/external/*"
          CYPHER:
            type: object
            required: [DATABASE_GROUP, LOAD_DATA]
            properties:
              DATABASE_GROUP:
                type: string
              LOAD_DATA:
                type: boolean
          SPARQL:
            type: object
            required: [DATABASE_GROUP, LOAD_DATA]
            properties:
              DATABASE_GROUP:
                type: string
              LOAD_DATA:
                type: boolean
      LANGUAGES_AND_TOOLS:
        type: array
        uniqueItems: True
        items:
          type: string
          enum: [PYTHON, SQL, CYPHER, SPARQL, CLINGO, BASHLOG]
      QUERIES:
        type: object
        required: [RUN, UNARY_SEARCH_ANCESTORS, BINARY_SEARCH_ANCESTORS, UNARY_SEARCH_DESCENDANTS]
        properties:
          RUN:
            type: array
            uniqueItems: True
            items:
              type: string
              enum: [UNARY_SEARCH_ANCESTORS, BINARY_SEARCH_ANCESTORS, UNARY_SEARCH_DESCENDANTS, BINARY_SEARCH_DESCENDANTS]
          UNARY_SEARCH_ANCESTORS:
            type: object
            required: [PIDS]
            properties:
              PIDS:
                type: array
                uniqueItems: True
          BINARY_SEARCH_ANCESTORS:
            type: object
            required: [PIDS]
            properties:
              PIDS:
                type: array
                uniqueItems: True
          UNARY_SEARCH_DESCENDANTS:
            type: object
            required: [PIDS]
            properties:
              PIDS:
                type: array
                uniqueItems: True
          BINARY_SEARCH_DESCENDANTS:
            type: object
            required: [PIDS]
            properties:
              PIDS:
                type: array
                uniqueItems: True